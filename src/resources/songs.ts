// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { APIResource } from '../core/resource';
import { APIPromise } from '../core/api-promise';
import { RequestOptions } from '../internal/request-options';

export class Songs extends APIResource {
  /**
   * Retrieves the details and status of a specific song generation job. Returns null
   * if the song is not found or doesn't belong to the authenticated user.
   */
  retrieve(query: SongRetrieveParams, options?: RequestOptions): APIPromise<SongRetrieveResponse | null> {
    return this._client.get('/song', { query, ...options });
  }

  /**
   * Returns a paginated list of all songs generated by the authenticated user,
   * sorted by creation date in descending order. Optionally filter results by title
   * search. You can paginate by passing the last song ID from the previous page.
   */
  list(
    query: SongListParams | null | undefined = {},
    options?: RequestOptions,
  ): APIPromise<SongListResponse> {
    return this._client.get('/songs', { query, ...options });
  }
}

export interface SongRetrieveResponse {
  id: string;

  attempt: number;

  createdAt: string;

  endTime: string | null;

  lyrics: string;

  outputUrl: string | null;

  startTime: string | null;

  status: 'QUEUED' | 'PENDING_WORKER' | 'PROCESSING' | 'ERRORED' | 'SUCCEEDED' | 'CANCELED';

  updatedAt: string;
}

export interface SongListResponse {
  songs: Array<SongListResponse.Song>;
}

export namespace SongListResponse {
  export interface Song {
    id: string;

    attempt: number;

    createdAt: string;

    endTime: string | null;

    lyrics: string;

    outputUrl: string | null;

    startTime: string | null;

    status: 'QUEUED' | 'PENDING_WORKER' | 'PROCESSING' | 'ERRORED' | 'SUCCEEDED' | 'CANCELED';

    updatedAt: string;
  }
}

export interface SongRetrieveParams {
  id: string;
}

export interface SongListParams {
  cursor?: string | null;

  limit?: number;

  search?: string | null;
}

export declare namespace Songs {
  export {
    type SongRetrieveResponse as SongRetrieveResponse,
    type SongListResponse as SongListResponse,
    type SongRetrieveParams as SongRetrieveParams,
    type SongListParams as SongListParams,
  };
}
